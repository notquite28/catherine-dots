# ====================================================================
# Tmux Keybindings Configuration
# ====================================================================
# This file resets all default tmux keybindings and defines custom ones
# organized by category to match the structure of README.md

# Reset: Remove all default keybindings
unbind-key -a

# ====================================================================
# SESSIONS
# ====================================================================
bind ^D detach                          # Ctrl-d: Detach from session
bind S choose-session                   # S: Choose session from list
bind * list-clients                     # *: List all clients

# ====================================================================
# WINDOWS
# ====================================================================
bind ^C new-window -c "$HOME"           # Ctrl-c: New window in home directory
bind H previous-window                  # H: Previous window
bind L next-window                      # L: Next window
bind ^A last-window                     # Ctrl-a: Toggle to last window
bind '"' choose-window                  # ": Choose window from list
bind w list-windows                     # w: List windows
bind ^W list-windows                    # Ctrl-w: List windows
bind r command-prompt "rename-window %%" # r: Rename window

# Direct window jumping (no prefix needed!)
bind -n M-1 select-window -t 1          # Alt-1: Jump to window 1
bind -n M-2 select-window -t 2          # Alt-2: Jump to window 2
bind -n M-3 select-window -t 3          # Alt-3: Jump to window 3
bind -n M-4 select-window -t 4          # Alt-4: Jump to window 4
bind -n M-5 select-window -t 5          # Alt-5: Jump to window 5
bind -n M-6 select-window -t 6          # Alt-6: Jump to window 6
bind -n M-7 select-window -t 7          # Alt-7: Jump to window 7
bind -n M-8 select-window -t 8          # Alt-8: Jump to window 8
bind -n M-9 select-window -t 9          # Alt-9: Jump to window 9

# ====================================================================
# PANES
# ====================================================================
# Splits (intuitive: | looks vertical, - looks horizontal)
bind | split-window -h -c "#{pane_current_path}"  # |: Vertical split (left|right)
bind - split-window -v -c "#{pane_current_path}"  # -: Horizontal split (top-bottom)

# Pane navigation (with prefix)
bind h select-pane -L                   # h: Select left pane
bind j select-pane -D                   # j: Select down pane
bind k select-pane -U                   # k: Select up pane
bind l select-pane -R                   # l: Select right pane

# Pane navigation (no prefix - faster!)
bind -n M-h select-pane -L              # Alt-h: Select left pane
bind -n M-j select-pane -D              # Alt-j: Select down pane
bind -n M-k select-pane -U              # Alt-k: Select up pane
bind -n M-l select-pane -R              # Alt-l: Select right pane

# Pane management
bind z resize-pane -Z                   # z: Zoom/unzoom pane
bind x swap-pane -D                     # x: Swap pane down
bind c kill-pane                        # c: Kill current pane
# bind K send-keys "clear"\; send-keys "Enter"  # K: Clear pane
bind P set pane-border-status           # P: Toggle pane border status

# ====================================================================
# COPY MODE (Vi-style)
# ====================================================================
# Note: Enter copy mode with prefix + [
bind-key -T copy-mode-vi v send-keys -X begin-selection  # v: Begin selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle  # Ctrl-v: Rectangle selection

# Clipboard integration (Wayland)
# tmux-yank plugin handles this automatically, but this is a fallback
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel 'wl-copy'  # y: Copy to clipboard
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel 'wl-copy'  # Mouse selection

# ====================================================================
# MISCELLANEOUS
# ====================================================================
bind * setw synchronize-panes           # *: Toggle synchronized panes
bind R source-file ~/.config/tmux/tmux.conf  # R: Reload config
bind ^L refresh-client                  # Ctrl-l: Refresh client
bind : command-prompt                   # :: Command prompt
bind ^X lock-server                     # Ctrl-x: Lock server
